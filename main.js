(()=>{"use strict";function e(){return document.getElementById("task-entry").value}function t(){const e=document.getElementById("School"),t=document.getElementById("Personal");return e.checked?"School":t.checked?"Personal":void 0}function n(){const e=document.getElementById("date-entry"),t=[];let n=[],a="",o="",r="";for(let n=0;n<10;n++)t.push(e.value[n]);for(let e=5;e<7;e++)o+=t[e];for(let e=8;e<10;e++)r+=t[e];for(let e=0;e<4;e++)a+=t[e];return"undefinedundefinedundefinedundefined"==a||null==o||null==r?n=[]:n.push(parseInt(o),parseInt(r),parseInt(a)),n}function a(e){console.error(e)}function o(e){let t=function(e){let t=0,n={date:[(new Date).getMonth()+1,(new Date).getDate(),(new Date).getFullYear()]},o=function(e){return e[0]>12?a(`${e[0]} is not a valid month`):e[1]<(new Date).getDate()&&e[0]==(new Date).getMonth()+1?a("date is less than current date"):e[0]<(new Date).getMonth()+1&&e[2]==(new Date).getFullYear()?a(`${e[0]} is less than the current month`):e[2]<(new Date).getFullYear()?a(`${e[2]} is less than the current year`):{dueDate:e}}(e);const r=function(e,t,n){let a=[],o=["January","February","March","April","May","June","July","August","September","October","November","December"];for(let l=0;l<n+1;l++){const s={January:31,February:28,March:31,April:30,May:31,June:30,July:31,August:31,September:30,October:31,November:30,December:31};if((r=e[2]+l)%4!=0||r%100==0&&r%400!=0||(s.February=29),a.push(s),e[1]+l===e[1]){const t=e[l]-1;for(let n=0;n<t;n++){delete s[o[n]];let t=s[o[n+1]];t-=e[1],s[o[n+1]]=t}}if(l==n)if(12===t[0])s[o[11]]=t[1];else{t[1],o.reverse();for(let e=0;e<o.length-t[0];e++){delete s[o[e]];let n=s[o[e+1]];n=t[1],s[o[e+1]]=n}}}var r;return a}(n.date,o.dueDate,o.dueDate[2]-n.date[2]);for(let n=0;n<r.length;n++){let a=["January","February","March","April","May","June","July","August","September","October","November","December"];for(let o=0;o<a.length;o++)void 0===r[n][a[o]]?t+=0:e[0]==(new Date).getMonth()+1&&e[2]==(new Date).getFullYear()?t=e[1]-(new Date).getDate():t+=r[n][a[o]]}return t}(e)/7,n=0;return t%1!=0&&(n=(t%1*7).toFixed(),t-=t%1),1==t&&0==n?t=`${t} week`:t>1&&0==n&&(t=`${t} weeks`),n>1&&(t>1||t<1)?t=`${t} weeks and ${n} days`:1==n&&(t>1||t<1)?t=`${t} weeks and ${n} day`:n>1&&1==t?t=`${t} week and ${n} days`:1==n&&1==t&&(t=`${t} week and ${n} day`),t}class r{constructor(e,t,n,a,o,r,l){this.title=e,this.note=t,this.dueDate=n,this.priority=a,this.type=o,this.daysLeft=r,this.category=l}}function l(){return e().length<1?(a("Task Name invalid"),!1):null==t()?(a("Category must be filled  out"),!1):null==n()[0]||null==n()[1]||null==n()[2]?(a("Must enter Date"),!1):e().length>1&&null!=n()[0]&&null!=n()[1]&&null!=n()[2]&&null!=t()?new r(e(),document.getElementById("note-entry").value,n(),function(){const e=document.getElementById("Urgent"),t=document.getElementById("Important"),n=document.getElementById("Not-Prioritized");return e.checked?"URGENT":t.checked?"Important":(n.checked,"Not Prioritized")}(),document.getElementById("type").value,o(n()),t()):void 0}function s(e,t){t.reset(),e.classList.remove("active"),overlay.classList.remove("active")}function c(e){if(null==e)return[];{let t=[];for(let n=0;n<e.length;n++)e[n].daysLeft=o(e[n].dueDate),t.push(e[n]);return localStorage.setItem("storage-array",JSON.stringify(t))}}c(JSON.parse(localStorage.getItem("storage-array"))),console.log(JSON.parse(localStorage.getItem("storage-array")),"Log One"),function e(){const t=document.querySelector(".clock");let n="",a=(new Date).getHours(),o=(new Date).getMinutes(),r=(new Date).getSeconds();return a>12&&(a-=12),r<10&&(r=`0${r}`),a<10&&(a=`0${a}`),o<10&&(o=`0${o}`),n=`${a}:${o}:${r}`,t.textContent=n,setTimeout(e,1e3),t}(),function(){const e=document.querySelector(".cards");if(console.log(e,"LOG ONE renderCards"),null==localStorage.getItem("storage-array"))e.textContent="no TASKS";else{const t=function(e){let t=[];for(let n=0;n<e.length;n++){const a=e[n],o=document.createElement("div");o.classList.add("card");const r=document.createElement("h4");r.classList.add("task-Title"),r.textContent=a.title;const l=document.createElement("p");l.classList.add("task-note"),l.textContent=`${a.note}`;const s=document.createElement("p");s.classList.add("task-category"),s.textContent=a.category;const c=document.createElement("p");c.classList.add("task-dueDate"),c.textContent=`Due date: ${a.dueDate}`;const d=document.createElement("p");d.classList.add("task-daysLeft"),d.textContent=`Days till: ${a.daysLeft}`;const u=document.createElement("p");u.classList.add("task-priority"),u.textContent=`Priority: ${a.priority}`;const i=document.createElement("p");i.classList.add("task-type"),i.textContent=`Task Type: ${a.type}`;const m=document.createElement("button");m.textContent="Delete Task",m.setAttribute("id","delBTN"),o.append(r,s,i,l,c,d,u,m),t.push(o),m.addEventListener("click",(()=>{o.remove(),console.log("cardCreator.js || DelBtn event listener")}))}return t}("test");console.log(t,"log RENDER CARDS"),e.append(t)}}(),document.getElementById("saveData").addEventListener("click",(()=>{!function(){const e=document.createElement("a"),t=new Blob([localStorage.getItem("storage-array")]);e.href=URL.createObjectURL(t),e.download="Storage.txt",e.click()}()}));const d=document.getElementById("new-task-button"),u=document.getElementById("close-button"),i=document.getElementById("task-modal"),m=document.getElementById("submit-task"),g=document.getElementById("modal"),y=document.getElementById("overlay");d.addEventListener("click",(()=>{!function(e){e.classList.add("active"),overlay.classList.add("active")}(g)})),y.addEventListener("click",(()=>{s(g,i)})),u.addEventListener("click",(()=>{s(g,i)})),m.addEventListener("click",(e=>{e.preventDefault(),l()?(function(e){let t=[];null==e?a("Task not added to storage"):(null!=localStorage.getItem("storage-array")&&(t=JSON.parse(localStorage.getItem("storage-array"))),null!=e&&(t.push(e),localStorage.setItem("storage-array",JSON.stringify(t))))}(l()),c(JSON.parse(localStorage.getItem("storage-array"))),console.log(JSON.parse(localStorage.getItem("storage-array")),"log two"),s(g,i)):e.preventDefault()}))})();